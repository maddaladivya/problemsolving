{% extends 'programming/base.html' %}
{% block body %}
<div id="wrapper">
  <div id="page-wrapper" >
    <div id="page-inner">
      <div class="row">
        <div class="col-md-12">
          <div class="panel panel-default">
            <div class="panel-heading">
              Summary
            </div>
            <div class="panel-body">
              <div id="normal">
              <div class="table-responsive">
                <table class="table table-striped table-bordered table-hover" id="dataTables-example">
                  <thead>
                    <tr>
                      <th>Student name</th>
                      <th>CodeChef</th>
                      <th>CodeChef Rating</th>
                      <th>Codeforces</th>
                      <th>CodeForces Rating</th>
                    </tr>
                  </thead>
                    <tbody>
                      {% for i in object_list%}
                        {% for j in i.groupid.all %}
                          {% if j.groupname == slug %}
                            <tr class="odd gradeA">
                              <td><a href="{% url 'studentsDetail' i.id %}">{{i.name}}</a></td>
                              <td>{{i.codechef}}</td>
                              <td>{{i.codechefrating}}</td>
                              <td>{{i.codeforces}}</td>
                              <td>{{i.codeforcesrating}}</td>
                            </tr>
                          {% endif %}
                        {% endfor %}
                      {% endfor %}
                    </table>
                </div>
                </div>
                <div id="codechef" style="display:none;">
                  <div class="table-responsive">
                    <table class="table table-striped table-bordered table-hover" id="dataTables-example">
                      <thead>
                        <tr>
                          <th>Student name</th>
                          <th>CodeChef</th>
                          <th>CodeChef Rating</th>
                          <th>Codeforces</th>
                          <th>CodeForces Rating</th>
                        </tr>
                      </thead>
                        <tbody>
                          {% for i in codechef%}
                            {% for j in i.groupid.all %}
                              {% if j.groupname == slug %}
                                <tr class="odd gradeA">
                                  <td><a href="{% url 'studentsDetail' i.id %}">{{i.name}}</a></td>
                                  <td>{{i.codechef}}</td>
                                  <td>{{i.codechefrating}}</td>
                                  <td>{{i.codeforces}}</td>
                                  <td>{{i.codeforcesrating}}</td>
                                </tr>
                              {% endif %}
                            {% endfor %}
                          {% endfor %}
                        </table>
                    </div>
                </div>
                <div id="codeforces" style="display:none;">
                  <div class="table-responsive">
                    <table class="table table-striped table-bordered table-hover" id="dataTables-example">
                      <thead>
                        <tr>
                          <th>Student name</th>
                          <th>CodeChef</th>
                          <th>CodeChef Rating</th>
                          <th>Codeforces</th>
                          <th>CodeForces Rating</th>
                        </tr>
                      </thead>
                        <tbody>
                          {% for i in codeforces%}
                            {% for j in i.groupid.all %}
                              {% if j.groupname == slug %}
                                <tr class="odd gradeA">
                                  <td><a href="{% url 'studentsDetail' i.id %}">{{i.name}}</a></td>
                                  <td>{{i.codechef}}</td>
                                  <td>{{i.codechefrating}}</td>
                                  <td>{{i.codeforces}}</td>
                                  <td>{{i.codeforcesrating}}</td>
                                </tr>
                              {% endif %}
                            {% endfor %}
                          {% endfor %}
                        </table>
                    </div>
                </div>
                <br/>
                <form method="post">
                  {% csrf_token %}
                  <input type="hidden" name="groupname" value="{{slug}}">
                  <div class="container">
                    <div class="row">
                      <div class="col-lg-12">
                        <div class="button-group">
                          <button type="button" class="btn btn-default btn-sm dropdown-toggle" data-toggle="dropdown">Select Students</button>
                          <ul class="dropdown-menu">
                            {% for i in object_list %}
                              {% for j in i.groupid.all %}
                                {% if j.groupname == slug %}
                                  <li><input type="checkbox" class="small" data-value="option1" name="add[]" value="{{i.name}}"/>{{i.name}}</li>
                                {% endif %}
                              {% endfor %}
                            {% endfor %}
                          </ul>
                          <button type="submit" class="btn btn-default" name="button">Add Student</button>
                        </div>
                      </div>
                    </div>
                  </div>
                  <br/>
                  <div class="container">
                    <div class="row">
                      <div class="col-lg-12">
                        <div class="button-group">
                          <button type="button" class="btn btn-default btn-sm dropdown-toggle" data-toggle="dropdown">Select Students</button>
                            <ul class="dropdown-menu">
                              {% for i in object_list %}
                                {% for j in i.groupid.all %}
                                  {% if j.groupname == slug %}
                                    <li><input type="checkbox" class="small" data-value="option1" name="delstu[]" value="{{i.name}}" tabIndex="-1">{{i.name}}</li>
                                  {% endif %}
                                {% endfor %}
                              {% endfor %}
                            </ul>
                          <button type="submit" class="btn btn-default" name="button">Delete Student</button>
                        </div>
                      </div>
                    </div>
                  </div>
                  </form>
                    <button type="button" id="chef">CodeChef</button>
                    <button type="button" id="forces">CodeForces</button>
                            </div>
                          </div>
                </div>
            </div>
        </div>
    </div>
            </div>
    <script src="/static/programming/js/jquery-1.10.2.js"></script>
    <script src="/static/programming/js/detailview.js"></script>
    <script src="/static/programming/js/bootstrap.min.js"></script>
    <script src="/static/programmingjs/jquery.metisMenu.js"></script>
    <script src="/static/programming/js/dataTables/jquery.dataTables.js"></script>
    <script src="/static/programming/js/dataTables/dataTables.bootstrap.js"></script>
    {% block javascript %}
        <script>
            $(document).ready(function () {
                $('#dataTables-example').dataTable();
            });
    </script>

    <script type="text/javascript">
    $('#chef').on('click',function(){
      if($('#normal').css('display')!='none'){
        $('#codechef').show().siblings('div').hide();
      }
    });
    $('#forces').on('click',function(){
      if($('#normal').css('display')!='none'){
        $('#codeforces').show().siblings('div').hide();
      }
    });
    </script>
    {% endblock %}
    <script src="assets/js/custom-scripts.js"></script>
{% endblock %}
